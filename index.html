<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Расписание</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/schedule-api.js"></script>
    <script src="js/samples.js"></script>
</head>

<body>
    <div class="container">
        <div class="edit-interface">
            <form>
                <strong>расписание в заданный интервал</strong>
                <br>школа:<br>
                <select id="schoolSelect"></select>
                <br> аудитория:<br>
                <select id="auditoriumSelect"></select>
                <br> начало:
                <br>
                <select id="startDay">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                </select>
                <select id="startMonth">
                    <option value="jan">январь</option>
                    <option value="feb">февраль</option>
                    <option value="mar">март</option>
                    <option value="apr">апрель</option>
                    <option value="may">май</option>
                    <option value="jun">июнь</option>
                    <option value="jul">июль</option>
                    <option value="aug">август</option>
                    <option value="sep">сентябрь</option>
                    <option value="oct">октябрь</option>
                    <option value="nov">ноябрь</option>
                    <option value="dec">декабрь</option>
                </select>
                <select id="startYear">
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                </select>
                <br>конец:
                <br>
                <select id="endDay">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                </select>
                <select id="endMonth">
                    <option value="jan">январь</option>
                    <option value="feb">февраль</option>
                    <option value="mar">март</option>
                    <option value="apr">апрель</option>
                    <option value="may">май</option>
                    <option value="jun">июнь</option>
                    <option value="jul">июль</option>
                    <option value="aug">август</option>
                    <option value="sep">сентябрь</option>
                    <option value="oct">октябрь</option>
                    <option value="nov">ноябрь</option>
                    <option value="dec">декабрь</option>
                </select>
                <select id="endYear">
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                </select>
                <input type="button" value="показать" onclick="callDisplayAuditoriumDateInterval()">
            </form>
            <form>
                <strong>добавить лекцию</strong>
                <br>дата:
                <br>
                <select id="lectureDay">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                </select>
                <select id="lectureMonth">
                    <option value="jan">январь</option>
                    <option value="feb">февраль</option>
                    <option value="mar">март</option>
                    <option value="apr">апрель</option>
                    <option value="may">май</option>
                    <option value="jun">июнь</option>
                    <option value="jul">июль</option>
                    <option value="aug">август</option>
                    <option value="sep">сентябрь</option>
                    <option value="oct">октябрь</option>
                    <option value="nov">ноябрь</option>
                    <option value="dec">декабрь</option>
                </select>
                <select id="lectureYear">
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                </select>
                <br>время:
                <br>
                <select id="lectureHour"></select>
                :
                <select id="lectureMinute"></select>
                <br>название:
                <br>
                <input id="lectureTitle" type="text">
                <br>лектор:
                <br>
                <input id="lecturerName" type="text">
                <br>информация о лекторе:
                <br>
                <input id="lecturerAbout" type="text">
                <br>школы:<br>
                <input id="schoolsInput" type="text" readonly="true">
                <br>студентов: <span id="studentsNumber">0</span>
                <br>
                <select id="lectureSchool"></select>
                <input type="button" value="добавить" onclick="addSchoolToInput('schoolsInput', 'lectureSchool',
                'studentsNumber')">
                <br>
                <input type="button" value="удалить последнюю" onclick="removeLastSchoolFromInput('schoolsInput',
                'studentsNumber')">
                <br>аудитория:
                <br>
                <select id="lectureAuditorium" onchange="displayCapacity('lectureAuditorium', 'audCapacity')"></select>
                <br>вместимость: <span id="audCapacity"></span>
                <br>
                <input type="button" value="добавить" onclick="callAddLecture()">
            </form>
            <form>
                <strong>добавить школу</strong>
                <br>название:<br>
                <input id="newSchoolName" type="text">
                <br>количество студентов:<br>
                <input id="newSchoolStudents" type="number" min="1">
                <input type="button" value="добавить" onclick="callAddSchool()">
            </form>
            <form>
                <strong>добавить аудиторию</strong>
                <br>название:<br>
                <input id="newAuditoriumName" type="text">
                <br>адрес:<br>
                <input id="newAuditoriumAddress" type="text">
                <br>вместимость:<br>
                <input id="newAuditoriumCapacity" type="number" min="1">
                <input type="button" value="добавить" onclick="callAddAuditorium()">
            </form>
            <form id="editForms">
                <strong>редактирование</strong>
                <br>
                <select onchange="displayEditForm(this)">
                    <option value="auditoriumEdit">аудитория</option>
                    <option value="schoolEdit">школа</option>
                    <option value="lectureEdit">лекция</option>
                </select>
                <div id="auditoriumEdit">
                    <br>аудитория:<br>
                    <select id="auditoriumNameEdit" onchange="displayCapacity('auditoriumNameEdit', 'audCapacityEdit')"></select>
                    <br>вместимость: <span id="audCapacityEdit"></span><br>
                    <input type="button" value="удалить" onclick="callRemoveAuditorium()">
                    <br>новое название:<br>
                    <input id="auditoriumNewName" type="text">
                    <br>новый адрес:<br>
                    <input id="auditoriumNewAddress" type="text">
                    <br>новая вместимость:<br>
                    <input id="auditoriumNewCapacity" type="number" min="1">
                    <input type="button" value="изменить" onclick="callEditAuditorium()">
                </div>
                <div id="schoolEdit" style="display: none;">
                    <br>школа:<br>
                    <select id="schoolNameEdit" onchange="displayStudentsEdit()"></select>
                    <br>студентов: <span id="studentsNumberEdit"></span>
                    <br>новое название:<br>
                    <input id="schoolNewName" type="text">
                    <br>новое количество студентов:<br>
                    <input id="schoolNewNumber" type="number" min="1">
                    <input type="button" value="изменить" onclick="callEditSchool()">
                </div>
                <div id="lectureEdit" style="display: none;">
                    <br>лекция:<br>
                    <select id="lectureTitleEdit"></select><br>
                    <input type="button" value="удалить" onclick="callRemoveLecture()">
                    <br>новая дата:<br>
                    <input id="newLectureDay" type="number" min="1" max="31">
                    <select id="newLectureMonth">
                        <option value="jan">январь</option>
                        <option value="feb">февраль</option>
                        <option value="mar">март</option>
                        <option value="apr">апрель</option>
                        <option value="may">май</option>
                        <option value="jun">июнь</option>
                        <option value="jul">июль</option>
                        <option value="aug">август</option>
                        <option value="sep">сентябрь</option>
                        <option value="oct">октябрь</option>
                        <option value="nov">ноябрь</option>
                        <option value="dec">декабрь</option>
                    </select>
                    <select id="newLectureYear">
                        <option value="2015">2015</option>
                        <option value="2016">2016</option>
                        <option value="2017">2017</option>
                    </select>
                    <br>новое время:<br>
                    <input id="newLectureHour" type="number" min="1" max="23"> :
                    <input id="newLectureMinute" type="number" min="1" max="59">
                    <br>новое название:<br>
                    <input id="newLectureTitle" type="text">
                    <br>новый лектор:<br>
                    <input id="newLecturerName" type="text">
                    <br>информация о лекторе:<br>
                    <input id="newLecturerAbout" type="text">
                    <br>школы:<br>
                    <input id="newSchoolsInput" type="text" readonly="true">
                    <br>студентов: <span id="newStudentsNumberEdit">0</span>
                    <br>
                    <select id="lectureSchoolEdit"></select>
                    <input type="button" value="добавить" onclick="addSchoolToInput('newSchoolsInput',
                     'lectureSchoolEdit', 'newStudentsNumberEdit')">
                     <br>
                    <input type="button" value="удалить последнюю" onclick="removeLastSchoolFromInput('newSchoolsInput',
                    'newStudentsNumberEdit')">
                    <br>аудитория:<br>
                    <select id="lectureAuditoriumEdit" onchange="displayCapacity('lectureAuditoriumEdit', 'lectureAudCapacity')"></select>
                    <br>вместимость: <span id="lectureAudCapacity"></span>
                    <br>
                    <input type="button" value="изменить" onclick="callEditLecture()">
                </div>
            </form>
        </div>
        <div id="schedule" class="schedule">
            <h1>Доклады</h1>
        </div>
    </div>
    <script src="js/interface.js"></script>
    <script>
    if (localStorage.getItem('auditoriums') === null) {
        localStorage.setItem('auditoriums', JSON.stringify(sampleAuditoriums));
    }

    if (localStorage.getItem('auditoriumsAddresses') === null) {
        localStorage.setItem('auditoriumsAddresses', JSON.stringify(sampleAuditoriumsAddresses));
    }

    if (localStorage.getItem('schools') === null) {
        localStorage.setItem('schools', JSON.stringify(sampleSchools));
    }

    if (localStorage.getItem('schoolsAcronyms') === null) {
        localStorage.setItem('schoolsAcronyms', JSON.stringify(sampleSchoolsAcronyms));
    }

    if (localStorage.getItem('lectures') !== null) {
        displayLectures(JSON.parse(localStorage.getItem('lectures')));
    } else {
        for (var i = 0; i < sampleLectures.length; i++) {
            addLecture(new Date(sampleLectures[i].date), sampleLectures[i].title, sampleLectures[i].lecturer,
                sampleLectures[i].auditorium, sampleLectures[i].school);
        }
        displayLectures(JSON.parse(localStorage.getItem('lectures')));
    }

    updateSchoolsSelect('schoolSelect');
    updateAuditoriumsSelect('auditoriumSelect');
    updateAuditoriumsSelect('lectureAuditorium');
    updateSchoolsSelect('lectureSchool');
    updateSchoolsSelect('schoolNameEdit');
    fillTimeSelect();
    displayCapacity('lectureAuditorium', 'audCapacity');
    updateAuditoriumsSelect('auditoriumNameEdit');
    displayCapacity('auditoriumNameEdit', 'audCapacityEdit');
    updateSchoolsSelect('lectureSchoolEdit');
    updateAuditoriumsSelect('lectureAuditoriumEdit');
    displayCapacity('lectureAuditoriumEdit', 'lectureAudCapacity');
    updateLecturesSelect();
    displayStudentsEdit();
    </script>
</body>

</html>
